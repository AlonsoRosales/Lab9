<html>

<head>
    <title>Pokemon Game</title>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="#" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="./index.css">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="./index.js"></script>
</head>

<body>
    <div class="container mx-auto" style="width: 1200px; margin-top: 20px;">
        <div>
            <img class="media-object" width="220" height="80" src="./pokemon.png">
            <h1 class="mb-3">Pokemon APP</h1>
        </div>
        <hr />
        <h3>Lista de Regiones </h3>
        <table class="table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Region</th>
                    <th>Detalles</th>
                </tr>
            </thead>
            <tbody id="body-paises">
            </tbody>
        </table>
    </div>
    <script>
        $(document).ready(function (){
            $.ajax({
                method:"GET",
                url:"https://pokeapi.co/api/v2/region",
            }).done(function (data){
                var listaPaises = data.results;
                var contentHTML = "";
                $.each(listaPaises, function (i,pais){
                    let id = pais.url;
                    let array = id.split("/").at(-2);
                    contentHTML += "<tr>";
                    contentHTML += "<td>" + (i+1) + "</td>";
                    contentHTML += "<td>" + pais.name + "</td>";
                    contentHTML += `<td><a class=\"botonDetalle\" href=\"./detalleRegion/detalleRegion.html?id=${array}\">Detalle</a></td>`;
                    contentHTML += "</tr>";
                })
                $("#body-paises").html(contentHTML);
            }).fail(function (err){
                console.log(err);
                alert("Ocurrio un error al cargar la pagina");
            })
        })
    </script>

</body>

</html>